@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .btn-primary {
    @apply bg-brand-primary text-white hover:brightness-95 transition-all shadow-sm active:scale-95 px-4 py-2 rounded-lg font-medium;
  }

  .btn-secondary {
    @apply bg-white text-brand-surface-dark border border-zinc-200 hover:bg-zinc-50 transition-all shadow-sm active:scale-95 px-4 py-2 rounded-lg font-medium;
  }

  .form-input {
    @apply w-full rounded-md border-zinc-300 shadow-sm focus:border-brand-primary focus:ring-brand-primary sm:text-sm h-9 px-3;
  }

  /* Nutrient-Inspired Theme Tokens */
  :root {
    --color-ps-sidebar: #0f172a; /* Slate 900 */
    --color-ps-workspace: #e4e4e7; /* Zinc 200 */
    --color-ps-panel: #ffffff;
    --color-ps-border: #e2e8f0; /* Slate 200 */
    --color-ps-accent: #3b82f6; /* Blue 500 */
  }

  .ps-sidebar {
    background-color: var(--color-ps-sidebar);
    color: white;
  }

  .ps-workspace {
    background-color: var(--color-ps-workspace);
    background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
    background-size: 20px 20px;
  }
}

body {
  font-family:
    "Inter",
    -apple-system,
    BlinkMacSystemFont,
    sans-serif;
  @apply bg-slate-50 text-slate-900;
}

@media print {
  @page {
    margin: 0;
    size: A4;
  }

  body {
    margin: 0;
    padding: 0;
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Hide sidebar, navigation, and other UI elements */
  .no-print, nav, aside, header.sticky, .sidebar, button {
    display: none !important;
  }

  /* Hide row break dividers in print (they're only for the preview UI) */
  .break-divider-hover,
  .break-divider-active {
    display: none !important;
  }

  /* Ensure print container takes full width/height */
  #root, .print-container {
    width: 100%;
    margin: 0;
    padding: 0;
  }

  /* Preview page styling for print */
  .preview-page {
    page-break-after: always;
    break-after: page;
    width: 210mm !important;
    min-height: 297mm !important;
    height: auto !important; /* Allow content to flow */
    position: relative;
    margin: 0 auto;
    padding: 15mm 15mm 20mm 15mm !important;
    box-shadow: none !important;
    overflow: visible !important; /* Allow content to show */
  }

  .preview-page:last-child {
    page-break-after: auto;
    break-after: auto;
  }

  /* Allow page content to overflow for proper printing */
  .preview-page-content {
    overflow: visible !important;
    height: auto !important;
  }

  .print-page {
    page-break-after: always;
    break-after: page;
    width: 210mm;
    height: 297mm;
    position: relative;
    margin: 0 auto;
    padding: 0;
    overflow: hidden;
  }

  .print-page:last-child {
    page-break-after: auto;
    break-after: auto;
  }

  /* Ensure backgrounds and colors print correctly */
  *,
  *::before,
  *::after {
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* Force backgrounds to print */
  .bg-brand-primary,
  .bg-green-50,
  .bg-blue-50,
  .bg-red-50,
  .bg-amber-50,
  .bg-zinc-50,
  .bg-white,
  .bg-emerald-100,
  .bg-red-100,
  .bg-blue-100,
  .bg-green-100,
  .bg-amber-100 {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Ensure table headers print with background */
  thead,
  thead tr,
  thead th {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Ensure border colors print */
  [class*="border-"] {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}
